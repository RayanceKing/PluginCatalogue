{
  "meta": {
    "schema_version": 4,
    "id": "mg_events",
    "name": "MoreGameEvents",
    "version": "0.3.1",
    "link": "https://github.com/Mooling0602/MoreGameEvents-MCDR",
    "authors": [
      "Mooling0602"
    ],
    "dependencies": {
      "mcdreforged": ">=2.1.0"
    },
    "requirements": [],
    "description": {
      "en_us": "Add more game events to MCDR.",
      "zh_cn": "向MCDR添加更多的游戏事件！"
    }
  },
  "plugin": {
    "schema_version": 1,
    "id": "mg_events",
    "authors": [
      "Mooling0602"
    ],
    "repository": "https://github.com/Mooling0602/MoreGameEvents-MCDR",
    "branch": "main",
    "related_path": ".",
    "labels": [
      "api"
    ],
    "introduction": {
      "en_us": "# MoreGameEvents-MCDR\n向MCDR添加更多的游戏事件！\n\n目前已经实现监听和派发死亡事件，并且对于Java版进度和旧版的成就事件的支持正在逐渐完善中。\n\n## 适用范围\n各种Java版游戏服务端，非模组端支持最好\n\nREADME和文档部分默认不会支持简体中文和英文以外的其他语言，但欢迎PR\n\n本插件理论上适合各种类型的服务端使用，包括带有各种第三方模组的服务器，只要服务端会在控制台严格按照指定的语言文件输出相关的事件信息。\n\n注意：插件的死亡事件识别功能会和DieMessage及类似的BukkitAPI插件冲突，因为他们会修改服务端输出的死亡消息内容！\n\n## 为什么需要此插件\n- 为消息互通开发提供更丰富的游戏内事件信息\n- 结合Minecraft Data API，为诸如“返回死亡点”等更丰富的玩法开发设计提供基础\n- 其他（欢迎参与下游开发，或者为此项目做贡献！）\n\n## 工作原理\n将控制台输出的死亡、成就等提示消息，根据游戏的语言文件进行解析，并派发成相关事件供下游插件处理。\n\n因此，本插件仅为没有任何实际功能的API，并不能用于直接实现“死亡播报”等功能，需要用户配合开发者开发的下游插件使用。\n\n## 文档（简易版，已存档，不再更新，适用于v0.x）\n考虑到多语言支持，插件并不会直接将识别到的info翻译成中文或类似操作，而是在派发的事件中提供以下内容：\n- player 玩家名\n- event 事件类型（直接使用翻译键名称即key）\n- content 事件内容（字典）\n- [1]content.lang 事件信息原始info输出的语言类型，你可以据此判断是否需要进行二次翻译\n- content.raw 事件信息的原始info输出，如“Steve被僵尸杀死了”\n- content.advancement 成就名称（仅成就事件，暂未实现）\n- content.death.killer 击杀者（杀死玩家的人或怪物），若没有则返回None\n- content.death.weapon 击杀者使用的武器（参考上一条），若没有则返回None\n\n然后，开发者可二次处理这些信息，并将其转发到需要的地方（例如消息互通转发到其他平台）或进行其他的插件开发。\n\n只需要：\n```python\nfrom mcdreforged.api.all import *\n\ndef on_load(server: PluginServerInterface, prev_module):\n    server.register_event_listener(\"PlayerDeathEvent\", on_player_death) # 需要死亡事件时进行注册\n    server.register_event_listener(\"PlayerAdvancementEvent\", on_player_advancement) # 需要成就事件时进行注册\n\ndef on_player_death(server: PluginServerInterface, player, event, content):\n    player: str = player\n    event: str = event # 死亡类型（翻译键名称）\n    killer: str = content.death.killer # 击杀者，玩家或怪物名称\n    weapon: str = content.death.weapon # 击杀者所用武器（保留了中括号）\n    # 由于几乎所有服务端都默认输出英文日志，因此需要进行二次开发，使用event对整个死亡消息进行翻译以及翻译killer（若击杀者为怪物）\n    # 本人已开发了一个适用于此的插件，开源后将在下方给出链接以供参考\n    # 链接：https://github.com/Mooling0602/DeathTips-MCDR\n    # 你也可以自行处理这些\n    if content.lang == \"zh_cn\":\n        transfer(content.raw) # 当语言区域为简体中文时，下游无需处理，直接转发使用\n\n# 于 v0.2.0 添加\ndef on_player_advancement(server: PluginServerInterface, player, event, content):\n    player: str = player # 玩家名\n    event: str = event # 成就类型（翻译键名称）\n    advancement: str = content.advancement # 成就内容（保留了中括号）\n    if content.lang == \"zh_cn\":\n        transfer(content.raw) # 当语言区域为简体中文时，下游无需处理，直接转发使用\n\ndef transfer():\n    pass # 实现你的转发逻辑\n```\n\n### 备注\n[1] 理论上这一部分可以支持输出中文log的服务端，但是这可能导致其他MCDR插件和MCDR本体无法正常解析服务器日志内容，故不推荐启用服务端的中文或其他语言log\n\n## 语言文件要求及适配指南（已存档，不再更新）\n- 仅对本插件而言，要求raw_lang（一般为英文，为服务端输出的所用的语言文件）\n- 对据本插件进行了二次开发的插件的用户而言，要求raw_lang和tr_lang（用于翻出译文的语言文件，需和raw_lang严格对应），如果两个文件不相同的话\n> tr_lang在下游插件使用，需要开发者支持\n- 插件将原生支持Geyser互通服，如果检测到Geyser的语言文件路径，会自动使用（最开箱即用的一集）\n- 服务端和其中安装的Mod应该含有raw_lang，你必须将这些分散的语言文件合成为一个，并存放在插件的配置目录中\n- 客户端和其中安装的Mod应该同时含有raw_lang和tr_lang，你必须将分散的tr_lang合成为一个，并存放在下游插件的配置目录中\n- 如果找不到tr_lang（例如Mod没有完成汉化等情况），你大概需要自行翻译或者放弃翻译\n- 如果你运行的模组服，准备完这些，待下游插件开发完成后即可使用\n",
      "zh_cn": "# MoreGameEvents-MCDR\n向MCDR添加更多的游戏事件！\n\n目前已经实现监听和派发死亡事件，并且对于Java版进度和旧版的成就事件的支持正在逐渐完善中。\n\n## 适用范围\n各种Java版游戏服务端，非模组端支持最好\n\nREADME和文档部分默认不会支持简体中文和英文以外的其他语言，但欢迎PR\n\n本插件理论上适合各种类型的服务端使用，包括带有各种第三方模组的服务器，只要服务端会在控制台严格按照指定的语言文件输出相关的事件信息。\n\n注意：插件的死亡事件识别功能会和DieMessage及类似的BukkitAPI插件冲突，因为他们会修改服务端输出的死亡消息内容！\n\n## 为什么需要此插件\n- 为消息互通开发提供更丰富的游戏内事件信息\n- 结合Minecraft Data API，为诸如“返回死亡点”等更丰富的玩法开发设计提供基础\n- 其他（欢迎参与下游开发，或者为此项目做贡献！）\n\n## 工作原理\n将控制台输出的死亡、成就等提示消息，根据游戏的语言文件进行解析，并派发成相关事件供下游插件处理。\n\n因此，本插件仅为没有任何实际功能的API，并不能用于直接实现“死亡播报”等功能，需要用户配合开发者开发的下游插件使用。\n\n## 文档（简易版，已存档，不再更新，适用于v0.x）\n考虑到多语言支持，插件并不会直接将识别到的info翻译成中文或类似操作，而是在派发的事件中提供以下内容：\n- player 玩家名\n- event 事件类型（直接使用翻译键名称即key）\n- content 事件内容（字典）\n- [1]content.lang 事件信息原始info输出的语言类型，你可以据此判断是否需要进行二次翻译\n- content.raw 事件信息的原始info输出，如“Steve被僵尸杀死了”\n- content.advancement 成就名称（仅成就事件，暂未实现）\n- content.death.killer 击杀者（杀死玩家的人或怪物），若没有则返回None\n- content.death.weapon 击杀者使用的武器（参考上一条），若没有则返回None\n\n然后，开发者可二次处理这些信息，并将其转发到需要的地方（例如消息互通转发到其他平台）或进行其他的插件开发。\n\n只需要：\n```python\nfrom mcdreforged.api.all import *\n\ndef on_load(server: PluginServerInterface, prev_module):\n    server.register_event_listener(\"PlayerDeathEvent\", on_player_death) # 需要死亡事件时进行注册\n    server.register_event_listener(\"PlayerAdvancementEvent\", on_player_advancement) # 需要成就事件时进行注册\n\ndef on_player_death(server: PluginServerInterface, player, event, content):\n    player: str = player\n    event: str = event # 死亡类型（翻译键名称）\n    killer: str = content.death.killer # 击杀者，玩家或怪物名称\n    weapon: str = content.death.weapon # 击杀者所用武器（保留了中括号）\n    # 由于几乎所有服务端都默认输出英文日志，因此需要进行二次开发，使用event对整个死亡消息进行翻译以及翻译killer（若击杀者为怪物）\n    # 本人已开发了一个适用于此的插件，开源后将在下方给出链接以供参考\n    # 链接：https://github.com/Mooling0602/DeathTips-MCDR\n    # 你也可以自行处理这些\n    if content.lang == \"zh_cn\":\n        transfer(content.raw) # 当语言区域为简体中文时，下游无需处理，直接转发使用\n\n# 于 v0.2.0 添加\ndef on_player_advancement(server: PluginServerInterface, player, event, content):\n    player: str = player # 玩家名\n    event: str = event # 成就类型（翻译键名称）\n    advancement: str = content.advancement # 成就内容（保留了中括号）\n    if content.lang == \"zh_cn\":\n        transfer(content.raw) # 当语言区域为简体中文时，下游无需处理，直接转发使用\n\ndef transfer():\n    pass # 实现你的转发逻辑\n```\n\n### 备注\n[1] 理论上这一部分可以支持输出中文log的服务端，但是这可能导致其他MCDR插件和MCDR本体无法正常解析服务器日志内容，故不推荐启用服务端的中文或其他语言log\n\n## 语言文件要求及适配指南（已存档，不再更新）\n- 仅对本插件而言，要求raw_lang（一般为英文，为服务端输出的所用的语言文件）\n- 对据本插件进行了二次开发的插件的用户而言，要求raw_lang和tr_lang（用于翻出译文的语言文件，需和raw_lang严格对应），如果两个文件不相同的话\n> tr_lang在下游插件使用，需要开发者支持\n- 插件将原生支持Geyser互通服，如果检测到Geyser的语言文件路径，会自动使用（最开箱即用的一集）\n- 服务端和其中安装的Mod应该含有raw_lang，你必须将这些分散的语言文件合成为一个，并存放在插件的配置目录中\n- 客户端和其中安装的Mod应该同时含有raw_lang和tr_lang，你必须将分散的tr_lang合成为一个，并存放在下游插件的配置目录中\n- 如果找不到tr_lang（例如Mod没有完成汉化等情况），你大概需要自行翻译或者放弃翻译\n- 如果你运行的模组服，准备完这些，待下游插件开发完成后即可使用\n"
    },
    "introduction_urls": {
      "en_us": "https://raw.githubusercontent.com/Mooling0602/MoreGameEvents-MCDR/main/README.md",
      "zh_cn": "https://raw.githubusercontent.com/Mooling0602/MoreGameEvents-MCDR/main/README.md"
    }
  },
  "release": {
    "schema_version": 8,
    "id": "mg_events",
    "latest_version": "0.3.1",
    "latest_version_index": 0,
    "releases": [
      {
        "url": "https://github.com/Mooling0602/MoreGameEvents-MCDR/releases/tag/0.3.1",
        "name": "v0.3.1",
        "tag_name": "0.3.1",
        "created_at": "2025-01-06T06:54:42Z",
        "description": "- 在上个版本的基础上增加了热重载后开始工作的提示\r\n- 如果你不关心插件何时开始工作，可以仅更新到0.3.0并等待后面的更新\r\n\r\n**Full Changelog**: https://github.com/Mooling0602/MoreGameEvents-MCDR/compare/0.3.0...0.3.1",
        "prerelease": false,
        "asset": {
          "id": 218314279,
          "name": "MoreGameEvents-v0.3.1.mcdr",
          "size": 204900,
          "download_count": 61,
          "created_at": "2025-01-06T06:57:18Z",
          "browser_download_url": "https://github.com/Mooling0602/MoreGameEvents-MCDR/releases/download/0.3.1/MoreGameEvents-v0.3.1.mcdr",
          "hash_md5": "f8cfbd44bcdb7768645b27d1f8b1f9ac",
          "hash_sha256": "ee8d75f0e76d8eed6338af6e1d0ebda7bea8ec3edfde8f290e525251b7bfdcde"
        },
        "meta": {
          "schema_version": 4,
          "id": "mg_events",
          "name": "MoreGameEvents",
          "version": "0.3.1",
          "link": "https://github.com/Mooling0602/MoreGameEvents-MCDR",
          "authors": [
            "Mooling0602"
          ],
          "dependencies": {
            "mcdreforged": ">=2.1.0"
          },
          "requirements": [],
          "description": {
            "en_us": "Add more game events to MCDR.",
            "zh_cn": "向MCDR添加更多的游戏事件！"
          }
        }
      },
      {
        "url": "https://github.com/Mooling0602/MoreGameEvents-MCDR/releases/tag/0.3.0",
        "name": "v0.3.0",
        "tag_name": "0.3.0",
        "created_at": "2025-01-06T06:39:59Z",
        "description": "- 修改了配置文件和资源数据的加载方式\r\n- 为死亡事件增加额外的识别列表，在配置目录下的`extra_death_key.json`中可修改\r\n- 增加了工作条件判定，只有在服务器启动后且插件资源加载完成后，才会开始监听并派发各种事件，并提示插件开始工作\r\n- 插件会始终解压并覆盖语言文件资源（目前原版语言文件不大，不会造成太大压力），以实现后续更新\r\n\r\n**API变动**\r\n- 所有配置和语言文件、模板资源移动至`mg_events.data`模块，便于导入和管理\r\n- 死亡事件派发的信息现匹配标准格式\r\n\r\n**其他**\r\n- 需要更新README和参考文档，目前的信息较为混乱，不便下游进行开发\r\n\r\n**Full Changelog**: https://github.com/Mooling0602/MoreGameEvents-MCDR/compare/0.2.3...0.3.0",
        "prerelease": false,
        "asset": {
          "id": 218313693,
          "name": "MoreGameEvents-v0.3.0.mcdr",
          "size": 204893,
          "download_count": 4,
          "created_at": "2025-01-06T06:50:10Z",
          "browser_download_url": "https://github.com/Mooling0602/MoreGameEvents-MCDR/releases/download/0.3.0/MoreGameEvents-v0.3.0.mcdr",
          "hash_md5": "956ef3ef3ab27d2261578892ca74c945",
          "hash_sha256": "4c2129bf943034f54158f8a99a56db6da690560450b87384f103c50561bc0ad5"
        },
        "meta": {
          "schema_version": 4,
          "id": "mg_events",
          "name": "MoreGameEvents",
          "version": "0.3.0",
          "link": "https://github.com/Mooling0602/MoreGameEvents-MCDR",
          "authors": [
            "Mooling0602"
          ],
          "dependencies": {
            "mcdreforged": ">=2.1.0"
          },
          "requirements": [],
          "description": {
            "en_us": "Add more game events to MCDR.",
            "zh_cn": "向MCDR添加更多的游戏事件！"
          }
        }
      },
      {
        "url": "https://github.com/Mooling0602/MoreGameEvents-MCDR/releases/tag/0.2.3",
        "name": "v0.2.3",
        "tag_name": "0.2.3",
        "created_at": "2024-12-22T14:11:44Z",
        "description": "修复了杀手名中包含空格时的识别错误问题\r\n\r\n**Full Changelog**: https://github.com/Mooling0602/MoreGameEvents-MCDR/compare/0.2.2...0.2.3",
        "prerelease": false,
        "asset": {
          "id": 215115372,
          "name": "MoreGameEvents-v0.2.3.mcdr",
          "size": 203616,
          "download_count": 25,
          "created_at": "2024-12-22T14:13:30Z",
          "browser_download_url": "https://github.com/Mooling0602/MoreGameEvents-MCDR/releases/download/0.2.3/MoreGameEvents-v0.2.3.mcdr",
          "hash_md5": "138ace52f4fa828a998da16e3215fdf6",
          "hash_sha256": "9743f320e3c08ef3930cff9ae04666725614c45478b04d1bc16b5985b9050a7c"
        },
        "meta": {
          "schema_version": 4,
          "id": "mg_events",
          "name": "MoreGameEvents",
          "version": "0.2.3",
          "link": "https://github.com/Mooling0602/MoreGameEvents-MCDR",
          "authors": [
            "Mooling0602"
          ],
          "dependencies": {
            "mcdreforged": ">=2.1.0"
          },
          "requirements": [],
          "description": {
            "en_us": "Add more game events to MCDR.",
            "zh_cn": "向MCDR添加更多的游戏事件！"
          }
        }
      },
      {
        "url": "https://github.com/Mooling0602/MoreGameEvents-MCDR/releases/tag/0.2.2",
        "name": "v0.2.2",
        "tag_name": "0.2.2",
        "created_at": "2024-12-11T13:44:49Z",
        "description": "- 改善了对玩家名的识别，现在使用Floodgate默认配置的基岩版玩家能够被插件所识别到。\r\n> 若自行修改了基岩版玩家前缀，或使用了会修改控制台日志中聊天消息里面的玩家名格式的插件，则暂时无法识别，后续将提供可调整的配置以方便自行适配。若有该问题，请发起Issue进行讨论。\r\n\r\n**Full Changelog**: https://github.com/Mooling0602/MoreGameEvents-MCDR/compare/0.2.1...0.2.2",
        "prerelease": false,
        "asset": {
          "id": 212640571,
          "name": "MoreGameEvents-v0.2.2.mcdr",
          "size": 204147,
          "download_count": 20,
          "created_at": "2024-12-11T13:48:39Z",
          "browser_download_url": "https://github.com/Mooling0602/MoreGameEvents-MCDR/releases/download/0.2.2/MoreGameEvents-v0.2.2.mcdr",
          "hash_md5": "22f21bdcfe41eb339df730bd75c408d2",
          "hash_sha256": "470b79db9a34e3e0d7cca39ec653990847dbcb601cd5e85ccce0db805413b463"
        },
        "meta": {
          "schema_version": 4,
          "id": "mg_events",
          "name": "MoreGameEvents",
          "version": "0.2.2",
          "link": "https://github.com/Mooling0602/MoreGameEvents-MCDR",
          "authors": [
            "Mooling0602"
          ],
          "dependencies": {
            "mcdreforged": ">=2.1.0"
          },
          "requirements": [],
          "description": {
            "en_us": "Add more game events to MCDR.",
            "zh_cn": "向MCDR添加更多的游戏事件！"
          }
        }
      },
      {
        "url": "https://github.com/Mooling0602/MoreGameEvents-MCDR/releases/tag/0.2.1",
        "name": "v0.2.1",
        "tag_name": "0.2.1",
        "created_at": "2024-12-10T12:50:31Z",
        "description": "- 修复了死亡事件不能正确识别和派发的问题，建议尽快更新\r\n- 现在所有事件的`content.raw`可用\r\n\r\n**Full Changelog**: https://github.com/Mooling0602/MoreGameEvents-MCDR/compare/0.2.0...0.2.1",
        "prerelease": false,
        "asset": {
          "id": 212372353,
          "name": "MoreGameEvents-v0.2.1.mcdr",
          "size": 214852,
          "download_count": 4,
          "created_at": "2024-12-10T13:06:24Z",
          "browser_download_url": "https://github.com/Mooling0602/MoreGameEvents-MCDR/releases/download/0.2.1/MoreGameEvents-v0.2.1.mcdr",
          "hash_md5": "7da76aac13297824a0b62dce864e048f",
          "hash_sha256": "989a84f602dc8b1ab226652b3cbdcfd0dc532f453c402214e9744c1dc3929971"
        },
        "meta": {
          "schema_version": 4,
          "id": "mg_events",
          "name": "MoreGameEvents",
          "version": "0.2.1",
          "link": "https://github.com/Mooling0602/MoreGameEvents-MCDR",
          "authors": [
            "Mooling0602"
          ],
          "dependencies": {
            "mcdreforged": ">=2.1.0"
          },
          "requirements": [],
          "description": {
            "en_us": "Add more game events to MCDR.",
            "zh_cn": "向MCDR添加更多的游戏事件！"
          }
        }
      },
      {
        "url": "https://github.com/Mooling0602/MoreGameEvents-MCDR/releases/tag/0.2.0",
        "name": "v0.2.0",
        "tag_name": "0.2.0",
        "created_at": "2024-12-06T10:50:28Z",
        "description": "**新增成就事件`PlayerAdvancementEvent`支持**\r\n- `player` - 玩家\r\n- `event` - 成就类型（翻译键）\r\n- `content.lang` - 事件所用语言\r\n> 一般为`en_us`\r\n- `content.advancement` - 成就内容（若要进行二次处理需知：该部分内容保留了中括号）\r\n> 相关的代码参考请查看最新的README\r\n\r\n**Full Changelog**: https://github.com/Mooling0602/MoreGameEvents-MCDR/compare/0.1.0...0.2.0",
        "prerelease": false,
        "asset": {
          "id": 211758228,
          "name": "MoreGameEvents-v0.2.0.mcdr",
          "size": 215005,
          "download_count": 4,
          "created_at": "2024-12-07T14:54:44Z",
          "browser_download_url": "https://github.com/Mooling0602/MoreGameEvents-MCDR/releases/download/0.2.0/MoreGameEvents-v0.2.0.mcdr",
          "hash_md5": "c7c473ffe463923d517502e2dd610cbd",
          "hash_sha256": "64482e2d405c42cf5837f61a1316ddd7990794e9e097f7a0d9b4601c2f866e56"
        },
        "meta": {
          "schema_version": 4,
          "id": "mg_events",
          "name": "MoreGameEvents",
          "version": "0.2.0",
          "link": "https://github.com/Mooling0602/MoreGameEvents-MCDR",
          "authors": [
            "Mooling0602"
          ],
          "dependencies": {
            "mcdreforged": ">=2.1.0"
          },
          "requirements": [],
          "description": {
            "en_us": "Add more game events to MCDR.",
            "zh_cn": "向MCDR添加更多的游戏事件！"
          }
        }
      },
      {
        "url": "https://github.com/Mooling0602/MoreGameEvents-MCDR/releases/tag/0.1.0",
        "name": "v0.1.0",
        "tag_name": "0.1.0",
        "created_at": "2024-11-30T10:10:47Z",
        "description": "- 首个通过功能测试的构建版本\r\n- 目前仅支持死亡游戏事件\r\n\r\n**Full Changelog**: https://github.com/Mooling0602/MoreGameEvents-MCDR/commits/0.1.0",
        "prerelease": false,
        "asset": {
          "id": 210041952,
          "name": "MoreGameEvents-v0.1.0.mcdr",
          "size": 202960,
          "download_count": 8,
          "created_at": "2024-11-30T10:32:24Z",
          "browser_download_url": "https://github.com/Mooling0602/MoreGameEvents-MCDR/releases/download/0.1.0/MoreGameEvents-v0.1.0.mcdr",
          "hash_md5": "c54a63381cf53a5a43f128ff6ae8e2fe",
          "hash_sha256": "0eef4931e2b92ec5e7d47e7c436b118ac58542223fdb0b8138ba4194013636c5"
        },
        "meta": {
          "schema_version": 4,
          "id": "mg_events",
          "name": "MoreGameEvents",
          "version": "0.1.0",
          "link": "https://github.com/Mooling0602/MoreGameEvents-MCDR",
          "authors": [
            "Mooling0602"
          ],
          "dependencies": {
            "mcdreforged": ">=2.1.0"
          },
          "requirements": [],
          "description": {
            "en_us": "Add more game events to MCDR.",
            "zh_cn": "向MCDR添加更多的游戏事件！"
          }
        }
      }
    ]
  },
  "repository": {
    "url": "https://github.com/Mooling0602/MoreGameEvents-MCDR",
    "name": "MoreGameEvents-MCDR",
    "full_name": "Mooling0602/MoreGameEvents-MCDR",
    "html_url": "https://github.com/Mooling0602/MoreGameEvents-MCDR",
    "description": "Add more game events to MCDR.",
    "archived": false,
    "stargazers_count": 0,
    "watchers_count": 0,
    "forks_count": 0,
    "readme": "# MoreGameEvents-MCDR\n向MCDR添加更多的游戏事件！\n\n目前已经实现监听和派发死亡事件，并且对于Java版进度和旧版的成就事件的支持正在逐渐完善中。\n\n## 适用范围\n各种Java版游戏服务端，非模组端支持最好\n\nREADME和文档部分默认不会支持简体中文和英文以外的其他语言，但欢迎PR\n\n本插件理论上适合各种类型的服务端使用，包括带有各种第三方模组的服务器，只要服务端会在控制台严格按照指定的语言文件输出相关的事件信息。\n\n注意：插件的死亡事件识别功能会和DieMessage及类似的BukkitAPI插件冲突，因为他们会修改服务端输出的死亡消息内容！\n\n## 为什么需要此插件\n- 为消息互通开发提供更丰富的游戏内事件信息\n- 结合Minecraft Data API，为诸如“返回死亡点”等更丰富的玩法开发设计提供基础\n- 其他（欢迎参与下游开发，或者为此项目做贡献！）\n\n## 工作原理\n将控制台输出的死亡、成就等提示消息，根据游戏的语言文件进行解析，并派发成相关事件供下游插件处理。\n\n因此，本插件仅为没有任何实际功能的API，并不能用于直接实现“死亡播报”等功能，需要用户配合开发者开发的下游插件使用。\n\n## 文档（简易版，已存档，不再更新，适用于v0.x）\n考虑到多语言支持，插件并不会直接将识别到的info翻译成中文或类似操作，而是在派发的事件中提供以下内容：\n- player 玩家名\n- event 事件类型（直接使用翻译键名称即key）\n- content 事件内容（字典）\n- [1]content.lang 事件信息原始info输出的语言类型，你可以据此判断是否需要进行二次翻译\n- content.raw 事件信息的原始info输出，如“Steve被僵尸杀死了”\n- content.advancement 成就名称（仅成就事件，暂未实现）\n- content.death.killer 击杀者（杀死玩家的人或怪物），若没有则返回None\n- content.death.weapon 击杀者使用的武器（参考上一条），若没有则返回None\n\n然后，开发者可二次处理这些信息，并将其转发到需要的地方（例如消息互通转发到其他平台）或进行其他的插件开发。\n\n只需要：\n```python\nfrom mcdreforged.api.all import *\n\ndef on_load(server: PluginServerInterface, prev_module):\n    server.register_event_listener(\"PlayerDeathEvent\", on_player_death) # 需要死亡事件时进行注册\n    server.register_event_listener(\"PlayerAdvancementEvent\", on_player_advancement) # 需要成就事件时进行注册\n\ndef on_player_death(server: PluginServerInterface, player, event, content):\n    player: str = player\n    event: str = event # 死亡类型（翻译键名称）\n    killer: str = content.death.killer # 击杀者，玩家或怪物名称\n    weapon: str = content.death.weapon # 击杀者所用武器（保留了中括号）\n    # 由于几乎所有服务端都默认输出英文日志，因此需要进行二次开发，使用event对整个死亡消息进行翻译以及翻译killer（若击杀者为怪物）\n    # 本人已开发了一个适用于此的插件，开源后将在下方给出链接以供参考\n    # 链接：https://github.com/Mooling0602/DeathTips-MCDR\n    # 你也可以自行处理这些\n    if content.lang == \"zh_cn\":\n        transfer(content.raw) # 当语言区域为简体中文时，下游无需处理，直接转发使用\n\n# 于 v0.2.0 添加\ndef on_player_advancement(server: PluginServerInterface, player, event, content):\n    player: str = player # 玩家名\n    event: str = event # 成就类型（翻译键名称）\n    advancement: str = content.advancement # 成就内容（保留了中括号）\n    if content.lang == \"zh_cn\":\n        transfer(content.raw) # 当语言区域为简体中文时，下游无需处理，直接转发使用\n\ndef transfer():\n    pass # 实现你的转发逻辑\n```\n\n### 备注\n[1] 理论上这一部分可以支持输出中文log的服务端，但是这可能导致其他MCDR插件和MCDR本体无法正常解析服务器日志内容，故不推荐启用服务端的中文或其他语言log\n\n## 语言文件要求及适配指南（已存档，不再更新）\n- 仅对本插件而言，要求raw_lang（一般为英文，为服务端输出的所用的语言文件）\n- 对据本插件进行了二次开发的插件的用户而言，要求raw_lang和tr_lang（用于翻出译文的语言文件，需和raw_lang严格对应），如果两个文件不相同的话\n> tr_lang在下游插件使用，需要开发者支持\n- 插件将原生支持Geyser互通服，如果检测到Geyser的语言文件路径，会自动使用（最开箱即用的一集）\n- 服务端和其中安装的Mod应该含有raw_lang，你必须将这些分散的语言文件合成为一个，并存放在插件的配置目录中\n- 客户端和其中安装的Mod应该同时含有raw_lang和tr_lang，你必须将分散的tr_lang合成为一个，并存放在下游插件的配置目录中\n- 如果找不到tr_lang（例如Mod没有完成汉化等情况），你大概需要自行翻译或者放弃翻译\n- 如果你运行的模组服，准备完这些，待下游插件开发完成后即可使用\n",
    "readme_url": "https://raw.githubusercontent.com/Mooling0602/MoreGameEvents-MCDR/main/README.md"
  }
}